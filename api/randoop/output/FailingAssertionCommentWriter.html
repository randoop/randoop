<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>FailingAssertionCommentWriter (randoop 4.3.4 API)</title>
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FailingAssertionCommentWriter (randoop 4.3.4 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../randoop/output/CodeWriter.html" title="interface in randoop.output"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../randoop/output/FailingAssertionCommentWriter.Match.html" title="class in randoop.output"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?randoop/output/FailingAssertionCommentWriter.html" target="_top">Frames</a></li>
<li><a href="FailingAssertionCommentWriter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">randoop.output</div>
<h2 title="Class FailingAssertionCommentWriter" class="title">Class FailingAssertionCommentWriter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>randoop.output.FailingAssertionCommentWriter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../randoop/output/CodeWriter.html" title="interface in randoop.output">CodeWriter</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">FailingAssertionCommentWriter</span>
extends java.lang.Object
implements <a href="../../randoop/output/CodeWriter.html" title="interface in randoop.output">CodeWriter</a></pre>
<div class="block">A <a href="../../randoop/output/CodeWriter.html" title="interface in randoop.output"><code>CodeWriter</code></a> that comments out failing assertions when outputting JUnit tests. This
 disables flaky tests that pass when run reflectively within Randoop, but fail when run from the
 command line. The whole test is not commented or removed, because the test might have side
 effects that later tests depend upon.

 <p>Iteratively does the following:

 <ul>
   <li>Writes the class.
   <li>Compiles and runs the tests in a new JVM to determine whether there are failing assertions.
   <li>Replaces each failing assertion by a comment containing the code for the failing assertion.
 </ul>

 Creates a clean temporary directory for each compilation/run of a test class to avoid state
 effects due to files in the working directory.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.Match.html" title="class in randoop.output">FailingAssertionCommentWriter.Match</a></span></code>
<div class="block">The line and first group from the match of a <code>Pattern</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.NotMatchedException.html" title="class in randoop.output">FailingAssertionCommentWriter.NotMatchedException</a></span></code>
<div class="block">An exception that indicates that an expected pattern was not found.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.regex.Pattern</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#FAILURE_HEADER_PATTERN">FAILURE_HEADER_PATTERN</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.regex.Pattern</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#FAILURE_MESSAGE_PATTERN">FAILURE_MESSAGE_PATTERN</a></span></code>
<div class="block">A pattern matching the JUnit4 message indicating the total count of failures.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.HashSet&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#flakyTestNames">flakyTestNames</a></span></code>
<div class="block">Method names for flaky tests (e.g., "test005").</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../randoop/output/JavaFileWriter.html" title="class in randoop.output">JavaFileWriter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#javaFileWriter">javaFileWriter</a></span></code>
<div class="block">The underlying <a href="../../randoop/output/JavaFileWriter.html" title="class in randoop.output"><code>JavaFileWriter</code></a> for writing a test class.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../randoop/execution/TestEnvironment.html" title="class in randoop.execution">TestEnvironment</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#testEnvironment">testEnvironment</a></span></code>
<div class="block">The <a href="../../randoop/execution/TestEnvironment.html" title="class in randoop.execution"><code>TestEnvironment</code></a> for running the test classes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#TYPE_REGEX">TYPE_REGEX</a></span></code>
<div class="block">Matches a type: a class name, optional generics, optional array brackets.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static @Regex(value=3) java.util.regex.Pattern</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#VARIABLE_DECLARATION_LINE">VARIABLE_DECLARATION_LINE</a></span></code>
<div class="block">Matches a variable declaration.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#FailingAssertionCommentWriter-randoop.execution.TestEnvironment-randoop.output.JavaFileWriter-">FailingAssertionCommentWriter</a></span>(<a href="../../randoop/execution/TestEnvironment.html" title="class in randoop.execution">TestEnvironment</a>&nbsp;testEnvironment,
                             <a href="../../randoop/output/JavaFileWriter.html" title="class in randoop.output">JavaFileWriter</a>&nbsp;javaFileWriter)</code>
<div class="block">Create a <a href="../../randoop/output/FailingAssertionCommentWriter.html" title="class in randoop.output"><code>FailingAssertionCommentWriter</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#commentCatchStatements-java.lang.String-java.lang.String-java.util.List-java.nio.file.Path-randoop.compile.FileCompiler.FileCompilerException-">commentCatchStatements</a></span>(java.lang.String&nbsp;packageName,
                      java.lang.String&nbsp;javaCode,
                      java.util.List&lt;javax.tools.Diagnostic&lt;? extends javax.tools.JavaFileObject&gt;&gt;&nbsp;diagnostics,
                      java.nio.file.Path&nbsp;destinationDir,
                      <a href="../../randoop/compile/FileCompiler.FileCompilerException.html" title="class in randoop.compile">FileCompiler.FileCompilerException</a>&nbsp;e)</code>
<div class="block">Comments out lines with unnecessary catch or try statements.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#commentFailingAssertions-java.lang.String-java.lang.String-java.lang.String-randoop.execution.RunCommand.Status-java.util.Set-">commentFailingAssertions</a></span>(java.lang.String&nbsp;packageName,
                        java.lang.String&nbsp;classname,
                        java.lang.String&nbsp;javaCode,
                        <a href="../../randoop/execution/RunCommand.Status.html" title="class in randoop.execution">RunCommand.Status</a>&nbsp;status,
                        java.util.Set&lt;java.lang.String&gt;&nbsp;flakyTests)</code>
<div class="block">Comments out lines with failing assertions.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#compilationError-java.nio.file.Path-java.lang.String-java.util.List-randoop.compile.FileCompiler.FileCompilerException-">compilationError</a></span>(java.nio.file.Path&nbsp;destinationDir,
                java.lang.String&nbsp;classSource,
                java.util.List&lt;javax.tools.Diagnostic&lt;? extends javax.tools.JavaFileObject&gt;&gt;&nbsp;diagnostics,
                <a href="../../randoop/compile/FileCompiler.FileCompilerException.html" title="class in randoop.compile">FileCompiler.FileCompilerException</a>&nbsp;e)</code>
<div class="block">Issue an exception because of a non-recoverable compilation error.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private java.nio.file.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#compileTestClass-java.lang.String-java.lang.String-java.lang.String-java.nio.file.Path-">compileTestClass</a></span>(java.lang.String&nbsp;packageName,
                java.lang.String&nbsp;classname,
                java.lang.String&nbsp;classSource,
                java.nio.file.Path&nbsp;destinationDir)</code>
<div class="block">Compiles the Java files in the list of files and writes the resulting class files to the
 directory.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private java.nio.file.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#createWorkingDirectory-java.lang.String-int-">createWorkingDirectory</a></span>(java.lang.String&nbsp;classname,
                      int&nbsp;pass)</code>
<div class="block">Creates a temporary directory by concatenating the class name and a pass count to form the
 directory name.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#flakyLineReplacement-java.lang.String-java.lang.String-">flakyLineReplacement</a></span>(java.lang.String&nbsp;flakyLine,
                    java.lang.String&nbsp;failure)</code>
<div class="block">Given a flaky line (one that throws an exception but was not expected to), return a commented
 version of the line that does no computation.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#getFlakyTestNames--">getFlakyTestNames</a></span>()</code>
<div class="block">Returns the set of flaky test names.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#numJunitFailures-java.util.Iterator-randoop.execution.RunCommand.Status-java.lang.String-java.lang.String-">numJunitFailures</a></span>(java.util.Iterator&lt;java.lang.String&gt;&nbsp;lineIterator,
                <a href="../../randoop/execution/RunCommand.Status.html" title="class in randoop.execution">RunCommand.Status</a>&nbsp;status,
                java.lang.String&nbsp;qualifiedClassname,
                java.lang.String&nbsp;javaCode)</code>
<div class="block">Return the number of JUnit failures, parsed from the JUnit output.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private <a href="../../randoop/output/FailingAssertionCommentWriter.Match.html" title="class in randoop.output">FailingAssertionCommentWriter.Match</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#readUntilMatch-java.util.Iterator-java.util.regex.Pattern-">readUntilMatch</a></span>(java.util.Iterator&lt;java.lang.String&gt;&nbsp;lineIterator,
              @Regex(value=1) java.util.regex.Pattern&nbsp;pattern)</code>
<div class="block">Reads lines of the JUnit output using the iterator until finding a match for the pattern, and
 then returns a pair containing the line and the text matching the first group of the pattern.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.nio.file.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#writeClassCode-java.lang.String-java.lang.String-java.lang.String-">writeClassCode</a></span>(java.lang.String&nbsp;packageName,
              java.lang.String&nbsp;classname,
              java.lang.String&nbsp;classSource)</code>
<div class="block">Writes the given class using this <a href="../../randoop/output/CodeWriter.html" title="interface in randoop.output"><code>CodeWriter</code></a>.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.nio.file.Path</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../randoop/output/FailingAssertionCommentWriter.html#writeUnmodifiedClassCode-java.lang.String-java.lang.String-java.lang.String-">writeUnmodifiedClassCode</a></span>(java.lang.String&nbsp;packageName,
                        java.lang.String&nbsp;classname,
                        java.lang.String&nbsp;javaCode)</code>
<div class="block">Writes the given class.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="FAILURE_MESSAGE_PATTERN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FAILURE_MESSAGE_PATTERN</h4>
<pre>private static final&nbsp;java.util.regex.Pattern FAILURE_MESSAGE_PATTERN</pre>
<div class="block">A pattern matching the JUnit4 message indicating the total count of failures. Capturing group 1
 is the number of failures.</div>
</li>
</ul>
<a name="FAILURE_HEADER_PATTERN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FAILURE_HEADER_PATTERN</h4>
<pre>private static final&nbsp;java.util.regex.Pattern FAILURE_HEADER_PATTERN</pre>
</li>
</ul>
<a name="TYPE_REGEX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TYPE_REGEX</h4>
<pre>private static final&nbsp;java.lang.String TYPE_REGEX</pre>
<div class="block">Matches a type: a class name, optional generics, optional array brackets.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#randoop.output.FailingAssertionCommentWriter.TYPE_REGEX">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="VARIABLE_DECLARATION_LINE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VARIABLE_DECLARATION_LINE</h4>
<pre>private static final&nbsp;@Regex(value=3) java.util.regex.Pattern VARIABLE_DECLARATION_LINE</pre>
<div class="block">Matches a variable declaration. Capturing group 1 is through the "=", 2 is the type, 3 is the
 initializer.</div>
</li>
</ul>
<a name="testEnvironment">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testEnvironment</h4>
<pre>private final&nbsp;<a href="../../randoop/execution/TestEnvironment.html" title="class in randoop.execution">TestEnvironment</a> testEnvironment</pre>
<div class="block">The <a href="../../randoop/execution/TestEnvironment.html" title="class in randoop.execution"><code>TestEnvironment</code></a> for running the test classes.</div>
</li>
</ul>
<a name="javaFileWriter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>javaFileWriter</h4>
<pre>private final&nbsp;<a href="../../randoop/output/JavaFileWriter.html" title="class in randoop.output">JavaFileWriter</a> javaFileWriter</pre>
<div class="block">The underlying <a href="../../randoop/output/JavaFileWriter.html" title="class in randoop.output"><code>JavaFileWriter</code></a> for writing a test class.</div>
</li>
</ul>
<a name="flakyTestNames">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>flakyTestNames</h4>
<pre>private final&nbsp;java.util.HashSet&lt;java.lang.String&gt; flakyTestNames</pre>
<div class="block">Method names for flaky tests (e.g., "test005").</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FailingAssertionCommentWriter-randoop.execution.TestEnvironment-randoop.output.JavaFileWriter-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FailingAssertionCommentWriter</h4>
<pre>public&nbsp;FailingAssertionCommentWriter(<a href="../../randoop/execution/TestEnvironment.html" title="class in randoop.execution">TestEnvironment</a>&nbsp;testEnvironment,
                                     <a href="../../randoop/output/JavaFileWriter.html" title="class in randoop.output">JavaFileWriter</a>&nbsp;javaFileWriter)</pre>
<div class="block">Create a <a href="../../randoop/output/FailingAssertionCommentWriter.html" title="class in randoop.output"><code>FailingAssertionCommentWriter</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>testEnvironment</code> - the <a href="../../randoop/execution/TestEnvironment.html" title="class in randoop.execution"><code>TestEnvironment</code></a> for executing tests during filtering</dd>
<dd><code>javaFileWriter</code> - the <a href="../../randoop/output/JavaFileWriter.html" title="class in randoop.output"><code>JavaFileWriter</code></a> to write <code>.java</code> files for the classes</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getFlakyTestNames--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFlakyTestNames</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;getFlakyTestNames()</pre>
<div class="block">Returns the set of flaky test names. Each element has the form testNNN where N are digits; for
 example, "test002".</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the flaky test names</dd>
</dl>
</li>
</ul>
<a name="writeClassCode-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeClassCode</h4>
<pre>public&nbsp;java.nio.file.Path&nbsp;writeClassCode(java.lang.String&nbsp;packageName,
                                         java.lang.String&nbsp;classname,
                                         java.lang.String&nbsp;classSource)
                                  throws <a href="../../randoop/output/RandoopOutputException.html" title="class in randoop.output">RandoopOutputException</a></pre>
<div class="block">Writes the given class using this <a href="../../randoop/output/CodeWriter.html" title="interface in randoop.output"><code>CodeWriter</code></a>. May modify the class text before writing
 it. May write additional files (but those are not returned).

 <p>Replaces failing assertions by comments.

 <p>Assumes output from JUnit4 <code>org.junit.runner.JUnitCore</code> runner used in <a href="../../randoop/execution/TestEnvironment.html" title="class in randoop.execution"><code>TestEnvironment</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../randoop/output/CodeWriter.html#writeClassCode-java.lang.String-java.lang.String-java.lang.String-">writeClassCode</a></code>&nbsp;in interface&nbsp;<code><a href="../../randoop/output/CodeWriter.html" title="interface in randoop.output">CodeWriter</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>packageName</code> - the package name of the class</dd>
<dd><code>classname</code> - the simple name of the class</dd>
<dd><code>classSource</code> - the text of a Java class, must be compilable</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <code>Path</code> object for the Java file written</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../randoop/output/RandoopOutputException.html" title="class in randoop.output">RandoopOutputException</a></code> - if there is an error while writing the code</dd>
</dl>
</li>
</ul>
<a name="writeUnmodifiedClassCode-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeUnmodifiedClassCode</h4>
<pre>public&nbsp;java.nio.file.Path&nbsp;writeUnmodifiedClassCode(java.lang.String&nbsp;packageName,
                                                   java.lang.String&nbsp;classname,
                                                   java.lang.String&nbsp;javaCode)
                                            throws <a href="../../randoop/output/RandoopOutputException.html" title="class in randoop.output">RandoopOutputException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../randoop/output/CodeWriter.html#writeUnmodifiedClassCode-java.lang.String-java.lang.String-java.lang.String-">CodeWriter</a></code></span></div>
<div class="block">Writes the given class. Does not modify the class text.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../randoop/output/CodeWriter.html#writeUnmodifiedClassCode-java.lang.String-java.lang.String-java.lang.String-">writeUnmodifiedClassCode</a></code>&nbsp;in interface&nbsp;<code><a href="../../randoop/output/CodeWriter.html" title="interface in randoop.output">CodeWriter</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>packageName</code> - the package name of the class</dd>
<dd><code>classname</code> - the simple name of the class</dd>
<dd><code>javaCode</code> - the text of the class to be written, must be compilable</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <code>Path</code> object for the Java file written</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../randoop/output/RandoopOutputException.html" title="class in randoop.output">RandoopOutputException</a></code> - if there is an error while writing the code</dd>
</dl>
</li>
</ul>
<a name="commentCatchStatements-java.lang.String-java.lang.String-java.util.List-java.nio.file.Path-randoop.compile.FileCompiler.FileCompilerException-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commentCatchStatements</h4>
<pre>private&nbsp;java.lang.String&nbsp;commentCatchStatements(java.lang.String&nbsp;packageName,
                                                java.lang.String&nbsp;javaCode,
                                                java.util.List&lt;javax.tools.Diagnostic&lt;? extends javax.tools.JavaFileObject&gt;&gt;&nbsp;diagnostics,
                                                java.nio.file.Path&nbsp;destinationDir,
                                                <a href="../../randoop/compile/FileCompiler.FileCompilerException.html" title="class in randoop.compile">FileCompiler.FileCompilerException</a>&nbsp;e)</pre>
<div class="block">Comments out lines with unnecessary catch or try statements. Fails if any other compilation
 errors exist. Ignores compilation warnings.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>packageName</code> - the package name of the test class</dd>
<dd><code>javaCode</code> - the source code for the test class; each assertion must be on its own line</dd>
<dd><code>diagnostics</code> - the errors and warnings from compiling the class</dd>
<dd><code>destinationDir</code> - the directory that contains the source code, used only for debugging</dd>
<dd><code>e</code> - the exception that was raised when compiling the source code, used only for debugging</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the class source edited so that failing assertions are replaced by comments</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../randoop/main/RandoopBug.html" title="class in randoop.main">RandoopBug</a></code> - if there is an unhandled compilation error (i.e., not about an unnecessary
     catch or try statement)</dd>
</dl>
</li>
</ul>
<a name="compilationError-java.nio.file.Path-java.lang.String-java.util.List-randoop.compile.FileCompiler.FileCompilerException-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compilationError</h4>
<pre>private&nbsp;void&nbsp;compilationError(java.nio.file.Path&nbsp;destinationDir,
                              java.lang.String&nbsp;classSource,
                              java.util.List&lt;javax.tools.Diagnostic&lt;? extends javax.tools.JavaFileObject&gt;&gt;&nbsp;diagnostics,
                              <a href="../../randoop/compile/FileCompiler.FileCompilerException.html" title="class in randoop.compile">FileCompiler.FileCompilerException</a>&nbsp;e)</pre>
<div class="block">Issue an exception because of a non-recoverable compilation error.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>destinationDir</code> - the directory that contains the source code, used only for debugging</dd>
<dd><code>classSource</code> - the text of the test class</dd>
<dd><code>diagnostics</code> - the errors and warnings from compiling the class</dd>
<dd><code>e</code> - the exception that was raised when compiling the source code, used only for debugging</dd>
</dl>
</li>
</ul>
<a name="commentFailingAssertions-java.lang.String-java.lang.String-java.lang.String-randoop.execution.RunCommand.Status-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commentFailingAssertions</h4>
<pre>private&nbsp;java.lang.String&nbsp;commentFailingAssertions(java.lang.String&nbsp;packageName,
                                                  java.lang.String&nbsp;classname,
                                                  java.lang.String&nbsp;javaCode,
                                                  <a href="../../randoop/execution/RunCommand.Status.html" title="class in randoop.execution">RunCommand.Status</a>&nbsp;status,
                                                  java.util.Set&lt;java.lang.String&gt;&nbsp;flakyTests)</pre>
<div class="block">Comments out lines with failing assertions. Uses the failures in the <code>status</code> from
 running JUnit with <code>javaCode</code> to identify lines with failing assertions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>packageName</code> - the package name of the test class</dd>
<dd><code>classname</code> - the simple (unqualified) name of the test class</dd>
<dd><code>javaCode</code> - the source code for the test class; each assertion must be on its own line</dd>
<dd><code>status</code> - the result of running the test with JUnit</dd>
<dd><code>flakyTests</code> - names of flaky tests, e.g. "test005". This is an output parameter that is
     augmented by this method.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the class source edited so that failing assertions are replaced by comments</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../randoop/main/RandoopBug.html" title="class in randoop.main">RandoopBug</a></code> - if <code>status</code> contains output for a failure not involving a
     Randoop-generated test method</dd>
</dl>
</li>
</ul>
<a name="numJunitFailures-java.util.Iterator-randoop.execution.RunCommand.Status-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numJunitFailures</h4>
<pre>private&nbsp;int&nbsp;numJunitFailures(java.util.Iterator&lt;java.lang.String&gt;&nbsp;lineIterator,
                             <a href="../../randoop/execution/RunCommand.Status.html" title="class in randoop.execution">RunCommand.Status</a>&nbsp;status,
                             java.lang.String&nbsp;qualifiedClassname,
                             java.lang.String&nbsp;javaCode)</pre>
<div class="block">Return the number of JUnit failures, parsed from the JUnit output.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lineIterator</code> - an iterator over the lines of JUnit output</dd>
<dd><code>status</code> - the result of running JUnit</dd>
<dd><code>qualifiedClassname</code> - the name of the JUnit class, used only for debugging output</dd>
<dd><code>javaCode</code> - the JUnit class source code, used only for debugging output</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of JUnit failures, a non-negative integer</dd>
</dl>
</li>
</ul>
<a name="flakyLineReplacement-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flakyLineReplacement</h4>
<pre>private&nbsp;java.lang.String&nbsp;flakyLineReplacement(java.lang.String&nbsp;flakyLine,
                                              java.lang.String&nbsp;failure)</pre>
<div class="block">Given a flaky line (one that throws an exception but was not expected to), return a commented
 version of the line that does no computation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>flakyLine</code> - the line that throws an exception</dd>
<dd><code>failure</code> - the reason for flakiness, which is put in a comment in the returned line</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the line, with its computation commented out and a failure reason in a comment</dd>
</dl>
</li>
</ul>
<a name="readUntilMatch-java.util.Iterator-java.util.regex.Pattern-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readUntilMatch</h4>
<pre>private&nbsp;<a href="../../randoop/output/FailingAssertionCommentWriter.Match.html" title="class in randoop.output">FailingAssertionCommentWriter.Match</a>&nbsp;readUntilMatch(java.util.Iterator&lt;java.lang.String&gt;&nbsp;lineIterator,
                                                           @Regex(value=1) java.util.regex.Pattern&nbsp;pattern)</pre>
<div class="block">Reads lines of the JUnit output using the iterator until finding a match for the pattern, and
 then returns a pair containing the line and the text matching the first group of the pattern.
 Assumes that there is a match, and that the pattern has at least one group.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lineIterator</code> - the iterator for reading from the JUnit output</dd>
<dd><code>pattern</code> - the pattern for a regex with at least one group</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the pair containing the line and the text matching the first group</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../randoop/main/RandoopBug.html" title="class in randoop.main">RandoopBug</a></code> - if the iterator has no more lines, but the pattern hasn't been matched</dd>
</dl>
</li>
</ul>
<a name="compileTestClass-java.lang.String-java.lang.String-java.lang.String-java.nio.file.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compileTestClass</h4>
<pre>private&nbsp;java.nio.file.Path&nbsp;compileTestClass(java.lang.String&nbsp;packageName,
                                            java.lang.String&nbsp;classname,
                                            java.lang.String&nbsp;classSource,
                                            java.nio.file.Path&nbsp;destinationDir)
                                     throws <a href="../../randoop/compile/FileCompiler.FileCompilerException.html" title="class in randoop.compile">FileCompiler.FileCompilerException</a></pre>
<div class="block">Compiles the Java files in the list of files and writes the resulting class files to the
 directory.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>packageName</code> - the package name for the test class</dd>
<dd><code>classname</code> - the name of the test class</dd>
<dd><code>classSource</code> - the text of the test class</dd>
<dd><code>destinationDir</code> - the directory for class file output</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the name of the file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>FileCompiler.FileCompilerException</code> - if the file does not compile</dd>
</dl>
</li>
</ul>
<a name="createWorkingDirectory-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createWorkingDirectory</h4>
<pre>private&nbsp;java.nio.file.Path&nbsp;createWorkingDirectory(java.lang.String&nbsp;classname,
                                                  int&nbsp;pass)</pre>
<div class="block">Creates a temporary directory by concatenating the class name and a pass count to form the
 directory name.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>classname</code> - the class name</dd>
<dd><code>pass</code> - the pass count</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <code>Path</code> for the directory created</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../randoop/output/CodeWriter.html" title="interface in randoop.output"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../randoop/output/FailingAssertionCommentWriter.Match.html" title="class in randoop.output"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?randoop/output/FailingAssertionCommentWriter.html" target="_top">Frames</a></li>
<li><a href="FailingAssertionCommentWriter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
