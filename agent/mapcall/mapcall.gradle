description = "mapcall agent"

dependencies {
  // use plume.jar from parent project
  compile project(path: ':', configuration: 'compile' )
}

jar {
  manifest {
    attributes(
      "Premain-Class": "randoop.instrument.Premain",
      "Can-Redefine-Classes": "true"
      )
  }
}

test {
  jvmArgs "-javaagent:$buildDir/libs/mapcall-$version" + ".jar=--map_calls=$buildDir/resources/test/randoop/instrument/mapcalls.txt"

  testLogging {
    showStandardStreams = true
    exceptionFormat = 'full'
  }
}
